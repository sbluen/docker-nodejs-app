<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="main.css">
        <title>Steven's Node.js Application</title>
        <!-- jQuery CDN -->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    </head>
    <body>
        <h1>Welcome to Steven's Node.js Application</h1>
        <p>This application uses the following technologies:</p>
        <ul>
            <li><a href="https://nodejs.org/en/">Node.js</a></li>
            <li><a href="https://www.docker.com/">Docker</a></li>
            <li><a href="https://sqlite.org/">SQLite</a></li>
            <li><a href="/mount">Bind Mount</a></li>
            <li><a href="/api/data">JSON API</a></li>
            <li><a href="https://expressjs.com/">Express.js</a></li>
            <li><a href="https://typescriptlang.org/">TypeScript</a></li>
            <li><a href="https://jquery.com/">jQuery</a></li>
        </ul>

        <script>
            $(document).ready(function() {
                // Fetch definitions from /api/data
                $.getJSON('/api/data', function(response) {
                    if (response && response.data && response.data.length > 0) {
                        const terms = response.data.reduce((map, item) => {
                            map[item.term.toLowerCase()] = item.meaning;
                            return map;
                        }, {});

                        // Add native title tooltips to <a> tags in ul that match terms
                        const $ul = $('ul');
                        if ($ul.length) {
                            $ul.find('a').each(function() {
                                const $link = $(this);
                                const linkText = $link.text().trim().toLowerCase();
                                const meaning = terms[linkText];
                                if (meaning) {
                                    $link.attr('title', meaning);
                                }
                            });
                        }
                    }
                }).fail(function() {
                    console.error('Failed to fetch definitions');
                });
            });
        </script>
    </body>
</html>